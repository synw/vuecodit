import{j as getCurrentInstance,k as onMounted,n as nextTick,u as unref,l as getCurrentScope,m as onScopeDispose,r as ref,g as watch,d as defineComponent,c as computed,w as watchEffect,o as openBlock,a as createElementBlock,b as withDirectives,v as vModelText,e as createBaseVNode,i as isRef,f as normalizeStyle,h as createVNode,H as HighlightJS,t as toDisplayString,T as Tn}from"./index-5c35d531.js";import{_ as _export_sfc}from"./_plugin-vue_export-helper-c27b6911.js";var _a;const isClient=typeof window<"u";isClient&&((_a=window==null?void 0:window.navigator)!=null&&_a.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function resolveUnref(e){return typeof e=="function"?e():unref(e)}function identity(e){return e}function tryOnScopeDispose(e){return getCurrentScope()?(onScopeDispose(e),!0):!1}function tryOnMounted(e,t=!0){getCurrentInstance()?onMounted(e):t?e():nextTick(e)}function unrefElement(e){var t;const o=resolveUnref(e);return(t=o==null?void 0:o.$el)!=null?t:o}const defaultWindow=isClient?window:void 0;function useSupported(e,t=!1){const o=ref(),n=()=>o.value=Boolean(e());return n(),tryOnMounted(n,t),o}const _global=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},globalKey="__vueuse_ssr_handlers__";_global[globalKey]=_global[globalKey]||{};_global[globalKey];var __getOwnPropSymbols$g=Object.getOwnPropertySymbols,__hasOwnProp$g=Object.prototype.hasOwnProperty,__propIsEnum$g=Object.prototype.propertyIsEnumerable,__objRest$2=(e,t)=>{var o={};for(var n in e)__hasOwnProp$g.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(e!=null&&__getOwnPropSymbols$g)for(var n of __getOwnPropSymbols$g(e))t.indexOf(n)<0&&__propIsEnum$g.call(e,n)&&(o[n]=e[n]);return o};function useResizeObserver(e,t,o={}){const n=o,{window:s=defaultWindow}=n,i=__objRest$2(n,["window"]);let r;const a=useSupported(()=>s&&"ResizeObserver"in s),d=()=>{r&&(r.disconnect(),r=void 0)},p=watch(()=>unrefElement(e),l=>{d(),a.value&&s&&l&&(r=new ResizeObserver(t),r.observe(l,i))},{immediate:!0,flush:"post"}),u=()=>{d(),p()};return tryOnScopeDispose(u),{isSupported:a,stop:u}}var SwipeDirection;(function(e){e.UP="UP",e.RIGHT="RIGHT",e.DOWN="DOWN",e.LEFT="LEFT",e.NONE="NONE"})(SwipeDirection||(SwipeDirection={}));function useTextareaAutosize(e){const t=ref(e==null?void 0:e.element),o=ref(e==null?void 0:e.input);function n(){var s,i;t.value&&(t.value.style.height="1px",t.value.style.height=`${(s=t.value)==null?void 0:s.scrollHeight}px`,(i=e==null?void 0:e.onResize)==null||i.call(e))}return watch([o,t],n,{immediate:!0}),useResizeObserver(t,()=>n()),e!=null&&e.watch&&watch(e.watch,n,{immediate:!0,deep:!0}),{textarea:t,input:o,triggerResize:n}}var __defProp=Object.defineProperty,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(e,t,o)=>t in e?__defProp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,__spreadValues=(e,t)=>{for(var o in t||(t={}))__hasOwnProp.call(t,o)&&__defNormalProp(e,o,t[o]);if(__getOwnPropSymbols)for(var o of __getOwnPropSymbols(t))__propIsEnum.call(t,o)&&__defNormalProp(e,o,t[o]);return e};const _TransitionPresets={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};__spreadValues({linear:identity},_TransitionPresets);const _hoisted_1$1=["id"],_hoisted_2$1=["innerHTML"],_sfc_main$1=defineComponent({__name:"CodeEditor",props:{hljs:{type:Object,required:!0},code:{type:String,required:!0},lang:{type:String,required:!0},id:{type:String}},emits:["edit"],setup(e,{emit:t}){const o=e,n=o.id??`${+new Date}`,s=ref("0"),i=ref(0),{textarea:r,input:a}=useTextareaAutosize({onResize:d,watch:i});function d(){const l=window.getComputedStyle(r.value),c=l["line-height"].replace("px",""),_=parseInt(l.height.replace("px",""))-parseInt(c);s.value=`${_}px`}function p(){t("edit",a.value)}const u=computed(()=>(p(),o.hljs.highlight(a.value,{language:o.lang}).value));return watchEffect(()=>{a.value=o.code,nextTick(()=>{++i.value})}),(l,c)=>(openBlock(),createElementBlock("div",{class:"code-wrapper",style:normalizeStyle(`height:${s.value}`)},[withDirectives(createBaseVNode("textarea",{id:unref(n),class:"code-block",ref_key:"textarea",ref:r,"onUpdate:modelValue":c[0]||(c[0]=_=>isRef(a)?a.value=_:null),spellcheck:"false"},null,8,_hoisted_1$1),[[vModelText,unref(a)]]),createBaseVNode("code",{class:"code-preview",innerHTML:unref(u)},null,8,_hoisted_2$1)],4))}}),CodeEditor_vue_vue_type_style_index_0_scoped_84ab437f_lang="",CodeEditor=_export_sfc(_sfc_main$1,[["__scopeId","data-v-84ab437f"]]),_hoisted_1={class:"container mx-auto prosed md-content"},_hoisted_2=createBaseVNode("h1",null,"Javascript example",-1),_hoisted_3={class:"p-3 bg-gray-100 border border-gray-200 rounded-md not-prose dark:bg-black dark:border-neutral-800"},_hoisted_4={class:"mt-3"},_hoisted_5=createBaseVNode("h2",null,"Template Code",-1),_hoisted_6=createBaseVNode("p",null,"The style is made using Tailwind classes in this example, but you can use any custom css",-1),_hoisted_7=createBaseVNode("h2",null,"Javascript Code",-1),_hoisted_8=createBaseVNode("p",null,"In a script setup tag",-1),_sfc_main=defineComponent({__name:"javascript",setup(__props){const initialCode=`console.log('starting script');
const a = 1;
const b = 2;
console.log(a+b);
a+b`;let editedCode=initialCode;const result=ref(""),templateCode=`<div class="p-3 bg-gray-100 border border-gray-200 rounded-md not-prose dark:bg-black dark:border-neutral-800">
  <code-editor 
    :hljs="hljs"
    :code="initialCode" 
    lang="javascript" 
    @edit="codeChange($event)">
  </code-editor>
</div>`,jsCode=`import { ref } from 'vue';
import { CodeEditor } from "vuecodit";
import "vuecodit/style.css";
import "highlight.js/styles/vs2015.css";
import hljs from 'highlight.js/lib/core';
import javascript from 'highlight.js/lib/languages/javascript';
hljs.registerLanguage('javascript', javascript);

const initialCode = \`console.log('starting script');
const a = 1;
const b = 2;
console.log(a+b);
a+b\`;
let editedCode = initialCode;
const result = ref("");

function codeChange(e) {
  // update the code
  editedCode = e;
}

function runCode() {
  // execute the code
  result.value = eval(editedCode)
}`;function codeChange(e){editedCode=e}function runCode(){result.value=eval(editedCode)}return(e,t)=>(openBlock(),createElementBlock("div",_hoisted_1,[_hoisted_2,createBaseVNode("div",_hoisted_3,[createVNode(CodeEditor,{code:initialCode,lang:"javascript",onEdit:t[0]||(t[0]=o=>codeChange(o)),hljs:unref(HighlightJS)},null,8,["hljs"])]),createBaseVNode("button",{class:"mt-5 shadow dark:ring-0 btn bord-secondary",onClick:t[1]||(t[1]=o=>runCode())},"Run"),createBaseVNode("div",_hoisted_4,toDisplayString(result.value),1),_hoisted_5,_hoisted_6,createVNode(unref(Tn),{hljs:unref(HighlightJS),code:templateCode,lang:"html",class:"not-prose"},null,8,["hljs"]),_hoisted_7,_hoisted_8,createVNode(unref(Tn),{hljs:unref(HighlightJS),code:jsCode,lang:"typescript",class:"not-prose"},null,8,["hljs"])]))}});export{_sfc_main as default};
