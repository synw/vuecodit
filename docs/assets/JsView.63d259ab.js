import{d as defineComponent,t as toRefs,r as ref,c as computed,j as onBeforeMount,w as watch,o as openBlock,b as createElementBlock,e as withDirectives,v as vModelText,f as createBaseVNode,n as normalizeStyle,h as createVNode,u as unref,k as toDisplayString}from"./index.c51747bc.js";import{H as HighlightJS}from"./core.9b7b687e.js";var _a;const isClient=typeof window!="undefined";isClient&&((_a=window==null?void 0:window.navigator)==null?void 0:_a.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function identity(e){return e}const _global=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},globalKey="__vueuse_ssr_handlers__";_global[globalKey]=_global[globalKey]||{};_global[globalKey];var SwipeDirection;(function(e){e.UP="UP",e.RIGHT="RIGHT",e.DOWN="DOWN",e.LEFT="LEFT",e.NONE="NONE"})(SwipeDirection||(SwipeDirection={}));function useTextareaAutosize(e){const n=ref(e==null?void 0:e.element),t=ref(e==null?void 0:e.input);function a(){var r,o;!n.value||(n.value.style.height="1px",n.value.style.height=`${(r=n.value)==null?void 0:r.scrollHeight}px`,(o=e==null?void 0:e.onResize)==null||o.call(e))}return watch([t,n],a,{immediate:!0}),e!=null&&e.watch&&watch(e.watch,a,{immediate:!0,deep:!0}),{textarea:n,input:t,triggerResize:a}}var __defProp=Object.defineProperty,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(e,n,t)=>n in e?__defProp(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,__spreadValues=(e,n)=>{for(var t in n||(n={}))__hasOwnProp.call(n,t)&&__defNormalProp(e,t,n[t]);if(__getOwnPropSymbols)for(var t of __getOwnPropSymbols(n))__propIsEnum.call(n,t)&&__defNormalProp(e,t,n[t]);return e};const _TransitionPresets={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};__spreadValues({linear:identity},_TransitionPresets);var _sfc_main$1=defineComponent({props:{hljs:{type:Object,required:!0},code:{type:String,required:!0},lang:{type:String,required:!0}},emits:["edit"],setup(e,{emit:n}){const{code:t}=toRefs(e),a=ref("0"),{textarea:r,input:o}=useTextareaAutosize({onResize:()=>{const g=window.getComputedStyle(document.getElementsByClassName("code-block")[0]);a.value=g.height}});function c(){n("edit",o.value)}const i=computed(()=>(c(),e.hljs.highlight(o.value,{language:e.lang}).value));return onBeforeMount(()=>{o.value=t.value}),{parsedCode:i,textarea:r,input:o,height:a}}}),_export_sfc=(e,n)=>{const t=e.__vccOpts||e;for(const[a,r]of n)t[a]=r;return t};const _hoisted_1$1=["innerHTML"];function _sfc_render(e,n){return openBlock(),createElementBlock("div",{class:"relative",ref:"preview",style:normalizeStyle(`height:${e.height}`)},[withDirectives(createBaseVNode("textarea",{class:"absolute top-0 left-0 z-30 w-full px-2 py-3 leading-6 text-transparent bg-transparent resize-none code-block",ref:"textarea","onUpdate:modelValue":n[0]||(n[0]=t=>e.input=t),spellcheck:"false"},`
      `,512),[[vModelText,e.input]]),createBaseVNode("code",{class:"absolute top-0 left-0 z-20 code-preview",innerHTML:e.parsedCode},null,8,_hoisted_1$1)],4)}var CodeEditor=_export_sfc(_sfc_main$1,[["render",_sfc_render],["__scopeId","data-v-32a9272a"]]),vs2015="";const IDENT_RE="[A-Za-z$_][0-9A-Za-z$_]*",KEYWORDS=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends"],LITERALS=["true","false","null","undefined","NaN","Infinity"],TYPES=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],ERROR_TYPES=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],BUILT_IN_GLOBALS=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],BUILT_IN_VARIABLES=["arguments","this","super","console","window","document","localStorage","module","global"],BUILT_INS=[].concat(BUILT_IN_GLOBALS,TYPES,ERROR_TYPES);function javascript(e){const n=e.regex,t=(s,{after:d})=>{const _="</"+s[0].slice(1);return s.input.indexOf(_,d)!==-1},a=IDENT_RE,r={begin:"<>",end:"</>"},o=/<[A-Za-z0-9\\._:-]+\s*\/>/,c={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(s,d)=>{const _=s[0].length+s.index,b=s.input[_];if(b==="<"||b===","){d.ignoreMatch();return}b===">"&&(t(s,{after:_})||d.ignoreMatch());let h;if((h=s.input.substring(_).match(/^\s+extends\s+/))&&h.index===0){d.ignoreMatch();return}}},i={$pattern:IDENT_RE,keyword:KEYWORDS,literal:LITERALS,built_in:BUILT_INS,"variable.language":BUILT_IN_VARIABLES},g="[0-9](_?[0-9])*",E=`\\.(${g})`,p="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",N={className:"number",variants:[{begin:`(\\b(${p})((${E})|\\.)?|(${E}))[eE][+-]?(${g})\\b`},{begin:`\\b(${p})\\b((${E})\\b|\\.)?|(${E})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},l={className:"subst",begin:"\\$\\{",end:"\\}",keywords:i,contains:[]},v={begin:"html`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,l],subLanguage:"xml"}},S={begin:"css`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,l],subLanguage:"css"}},T={className:"string",begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE,l]},R=e.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:a+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),f={className:"comment",variants:[R,e.C_BLOCK_COMMENT_MODE,e.C_LINE_COMMENT_MODE]},y=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,v,S,T,N];l.contains=y.concat({begin:/\{/,end:/\}/,keywords:i,contains:["self"].concat(y)});const A=[].concat(f,l.contains),m=A.concat([{begin:/\(/,end:/\)/,keywords:i,contains:["self"].concat(A)}]),u={className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:i,contains:m},C={variants:[{match:[/class/,/\s+/,a,/\s+/,/extends/,/\s+/,n.concat(a,"(",n.concat(/\./,a),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,a],scope:{1:"keyword",3:"title.class"}}]},I={relevance:0,match:n.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...TYPES,...ERROR_TYPES]}},w={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},B={variants:[{match:[/function/,/\s+/,a,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[u],illegal:/%/},L={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function M(s){return n.concat("(?!",s.join("|"),")")}const x={match:n.concat(/\b/,M([...BUILT_IN_GLOBALS,"super"]),a,n.lookahead(/\(/)),className:"title.function",relevance:0},P={begin:n.concat(/\./,n.lookahead(n.concat(a,/(?![0-9A-Za-z$_(])/))),end:a,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},k={match:[/get|set/,/\s+/,a,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},u]},O="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+e.UNDERSCORE_IDENT_RE+")\\s*=>",U={match:[/const|var|let/,/\s+/,a,/\s*/,/=\s*/,/(async\s*)?/,n.lookahead(O)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[u]};return{name:"Javascript",aliases:["js","jsx","mjs","cjs"],keywords:i,exports:{PARAMS_CONTAINS:m,CLASS_REFERENCE:I},illegal:/#(?![$_A-z])/,contains:[e.SHEBANG({label:"shebang",binary:"node",relevance:5}),w,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,v,S,T,f,N,I,{className:"attr",begin:a+n.lookahead(":"),relevance:0},U,{begin:"("+e.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[f,e.REGEXP_MODE,{className:"function",begin:O,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:e.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:i,contains:m}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:r.begin,end:r.end},{match:o},{begin:c.begin,"on:begin":c.isTrulyOpeningTag,end:c.end}],subLanguage:"xml",contains:[{begin:c.begin,end:c.end,skip:!0,contains:["self"]}]}]},B,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+e.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[u,e.inherit(e.TITLE_MODE,{begin:a,className:"title.function"})]},{match:/\.\.\./,relevance:0},P,{match:"\\$"+a,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[u]},x,L,C,k,{match:/\$[(.]/}]}}const _hoisted_1={class:"container mx-auto dark"},_hoisted_2={class:"w-full h-full p-8 background"},_hoisted_3={class:"mt-5"},_sfc_main=defineComponent({__name:"JsView",setup(__props){HighlightJS.registerLanguage("javascript",javascript);const initialCode=`console.log('starting script');
const a = 1;
const b = 2;
console.log(a+b);
a+b`;let editedCode=initialCode;const result=ref("");function codeChange(e){editedCode=e}function runCode(){result.value=eval(editedCode)}return(e,n)=>(openBlock(),createElementBlock("div",_hoisted_1,[createBaseVNode("div",_hoisted_2,[createVNode(unref(CodeEditor),{code:initialCode,lang:"javascript",onEdit:n[0]||(n[0]=t=>codeChange(t)),hljs:unref(HighlightJS)},null,8,["hljs"]),createBaseVNode("button",{class:"mt-5 btn secondary",onClick:n[1]||(n[1]=t=>runCode())},"Run")]),createBaseVNode("div",_hoisted_3,toDisplayString(result.value),1)]))}});export{_sfc_main as default};
